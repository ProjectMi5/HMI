extends layout

block content

  include mixins/fixMorrisDonut
  +fixMorrisDonut()
  include mixins/cocktailColors
  +cocktailColors()

  div.row
    h1.page-header Cocktail-Feedback

    div.col-lg-12
      div.panel.panel-default
        div.panel-heading
          div.row
            div.col-lg-6.col-md-6.text-center
              img(id="pictureRecipe" + recommendation.recipe.id, src="/assets/images/recipes/recipe" + recommendation.recipe.id + "/cocktail.jpg", style="border-radius: 100%; horizontal-align: middle; vertical-align: middle; width:70%")
            div.col-lg-6.col-md-6
              div.jumbotron
                h1
                  // | #{recommendation.recipe.id}
                  | Free Passion
                p Operator has sent feedback
        div.panel-body
          //p= recommendation
          div.row
            div.col-lg-6.col-md-6.text-center
              h2 Order
              div#order(style="width: 100%")
              script.
                // Rounded for two decimal numbers - floor (abrunden)
                Morris.Donut({
                  element: 'order',
                  data: [
                    {
                      label: '#{recommendation.order.mixRatio.ingredientName[0]}',
                      value: Math.round(#{recommendation.order.mixRatio.ratio[0]}*100)/100
                    },
                    {
                      label: '#{recommendation.order.mixRatio.ingredientName[1]}',
                      value: Math.round(#{recommendation.order.mixRatio.ratio[1]}*100)/100
                    },
                    {
                      label: '#{recommendation.order.mixRatio.ingredientName[2]}',
                      value: Math.round(#{recommendation.order.mixRatio.ratio[2]}*100)/100
                    }
                  ],
                  colors: [getColorForIngredient('#{recommendation.order.mixRatio.ingredientName[0]}'),
                    getColorForIngredient('#{recommendation.order.mixRatio.ingredientName[1]}'),
                    getColorForIngredient('#{recommendation.order.mixRatio.ingredientName[2]}')]
                });
            div.col-lg-6.col-md-6.text-center
              h2 Recommendation
              div#recommendation(style="width: 100%")
              script.
                // Rounded for two decimal numbers - floor (abrunden)
                Morris.Donut({
                   element: 'recommendation',
                   data: [
                      {
                        label: '#{recommendation.recommendation.mixRatio.ingredientName[0]}',
                        value: Math.round(#{recommendation.recommendation.mixRatio.ratio[0]}*100)/100
                      },
                      {
                        label: '#{recommendation.recommendation.mixRatio.ingredientName[1]}',
                        value: Math.round(#{recommendation.recommendation.mixRatio.ratio[1]}*100)/100
                      },
                      {
                        label: '#{recommendation.recommendation.mixRatio.ingredientName[2]}',
                        value: Math.round(#{recommendation.recommendation.mixRatio.ratio[2]}*100)/100
                      }
                   ],
                  colors: [getColorForIngredient('#{recommendation.recommendation.mixRatio.ingredientName[0]}'),
                    getColorForIngredient('#{recommendation.recommendation.mixRatio.ingredientName[1]}'),
                    getColorForIngredient('#{recommendation.recommendation.mixRatio.ingredientName[2]}')]
                });

